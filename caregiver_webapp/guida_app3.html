<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profilo Utente</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #2f76f6;
      box-sizing: border-box;
      overflow-x: hidden;
      overflow-y: hidden;
      padding: 0;
      height: 100vh;
    }
    .profile h2 {
      margin: 0;
      font-size: 24px;
      text-align: left;
      display: block;
      line-height: 1.2;
    }
    .profile p {
      margin: 5px 0 20px 0;
      
    }
    .card {
      border-radius: 20px;
      color: white;
      font-size: 14px;
      text-align: center;
      font-weight: 400;
      box-shadow: 0 6px 6px rgba(0, 0, 0, 0.1);
      background-color: #2f76f6;
      padding: 10px 30px 1px 30px;
    }
    .titlecard {
      text-align: center;
      font-weight: 400;
      font-size: 14px;
    }
    .img-guida {
      width: 230px;    /* maybe larger for the illustration */
    }
    .container-img {
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2;
    }
    .button-group {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }
    .card-link {
      text-decoration: none;
      margin: 0 10px;
    }
    .subtitle{
      padding-top: 20px;
      font-size: .9em;
      font-weight: 400;
    }
    .maintitle{
      font-size: 1.5em;
      font-weight: 400;
      padding-top: 20px;

    }
    .maintitle2{
      color: #2f76f6;
      font-size: 1.5em;
      font-weight: 400;
    }
    h3 {
      padding: 0;
      margin: 0;
    }
    .back-button {
      display: inline-block;
      margin: 20px 0 0 20px; /* top margin and left indent */
      background: transparent;
      border: none;
      font-size: 1em;
      color: #333;
      cursor: pointer;
    }
    .back-button:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <script>
  // Se non esiste username in localStorage, reindirizza a index.html
  if (!localStorage.getItem('username')) {
    window.location.replace('index.html');
  }
  </script>
  <div class="header">
    <img src="icon/icon-sun.png" alt="Icona Sole" />
  </div>

  <div class="profile">
    <div class="greeting-table" style="margin-bottom: 10px;">
      <table style="border-collapse: collapse; width: 100%;">
        <tr>
          <td style="font-size: 40px; vertical-align: middle; width: 50px;"></td>
          <td style="vertical-align: middle; text-align: left;">
            <span class="greeting-text" style="font-size: 40px; font-weight: bold; display: block;">App</span>
          </td>
        </tr>
        <tr>
          <td></td>
          <td>
            <p class="subtitle">Hai anche la possibilità di programmare le attività il giorno dopo, 
              così da essere sempre un passo avanti nell’organizzazione.
              Quando il paziente svolge l’attività, riceverai una notifica di conferma, 
              così potrai seguire la giornata a distanza in modo semplice e rassicurante. 
              <span style="color: #2f76f6; font-weight: 600;">MemoCare ti aiuta</span> a restare vicino, anche quando non puoi essere lì.</p>
          </td>
       </tr>
      </table>
      <div class="container-img">
        <img src="img/guida4.png" alt="guida1" class="img-guida">
      </div>
      <div class="pager" style="display:flex; justify-content:center; align-items:center; gap:8px; margin-top:16px;">
        <span class="dot" style="width:12px; height:12px; border-radius:50%; background:#bbb;"></span>
        <span class="dot" style="width:12px; height:12px; border-radius:50%; background:#bbb;"></span>
        <span class="dot" style="width:12px; height:12px; border-radius:50%; background:#2f76f6;"></span>
      </div>
      <div class="button-group">
        <a href="guida_app2.html" class="card-link">
          <div class="card"><p class="titlecard">Indietro</p></div>
        </a>
        <a href="guida_home.html" class="card-link">
          <div class="card"><p class="titlecard">Capito!</p></div>
        </a>
      </div>
    </div> <!-- chiude greeting-table -->
  </div>   <!-- chiude profile -->
  <script>
    const nomeUtente = localStorage.getItem('username');
    document.getElementById('username').textContent = nomeUtente || '';
    // Fetch current date from an internet API (WorldTimeAPI)
    fetch('https://worldtimeapi.org/api/timezone/Europe/Rome')
      .then(res => res.json())
      .then(data => {
        // data.datetime is like "2025-05-14T14:20:30.123456+02:00"
        const dt = new Date(data.datetime);
        const options = { weekday: 'long', day: 'numeric', month: 'long' };
        const formatted = dt.toLocaleDateString('it-IT', options);
        document.getElementById('currentDate').textContent = `Oggi è ${formatted}`;
      })
      .catch(err => {
        console.error('Errore nel recupero data da internet:', err);
        // Fallback to local date
        const oggi = new Date();
        const options = { weekday: 'long', day: 'numeric', month: 'long' };
        const formatted = oggi.toLocaleDateString('it-IT', options);
        document.getElementById('currentDate').textContent = `Oggi è ${formatted}`;
      });
  </script>
</body>
</html>
