<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <title>Configurazione Attività</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script>
    // Imposta il valore del campo username dal localStorage all'apertura della pagina
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('username').value = localStorage.getItem('username') || '';
    });
  </script>
  <h1>Programma le Attività</h1>
  <form id="activityForm">
    <input type="hidden" id="username" name="username" readonly>
    <div class="card-container">
      <fieldset>
        <legend>Attività 1</legend>
        <label for="nome_1">Nome</label>
        <input id="nome_1" name="nome_1" placeholder="Nome">
        <label for="ora_1">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_1_ore" name="ora_1_ore">
            <option value="">--</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
          </select>
          <select id="ora_1_minuti" name="ora_1_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_1">Durata</label>
        <select id="durata_1" name="durata_1">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_1">Preavviso</label>
        <select id="preavviso_1" name="preavviso_1">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Attività 2</legend>
        <label for="nome_2">Nome</label>
        <input id="nome_2" name="nome_2" placeholder="Nome">
        <label for="ora_2">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_2_ore" name="ora_2_ore">
            <option value="">--</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
          </select>
          <select id="ora_2_minuti" name="ora_2_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_2">Durata</label>
        <select id="durata_2" name="durata_2">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_2">Preavviso</label>
        <select id="preavviso_2" name="preavviso_2">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Attività 3</legend>
        <label for="nome_3">Nome</label>
        <input id="nome_3" name="nome_3" placeholder="Nome">
        <label for="ora_3">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_3_ore" name="ora_3_ore">
            <option value="">--</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
          </select>
          <select id="ora_3_minuti" name="ora_3_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_3">Durata</label>
        <select id="durata_3" name="durata_3">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_3">Preavviso</label>
        <select id="preavviso_3" name="preavviso_3">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Attività 4</legend>
        <label for="nome_4">Nome</label>
        <input id="nome_4" name="nome_4" placeholder="Nome">
        <label for="ora_4">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_4_ore" name="ora_4_ore">
            <option value="">--</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
          </select>
          <select id="ora_4_minuti" name="ora_4_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_4">Durata</label>
        <select id="durata_4" name="durata_4">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_4">Preavviso</label>
        <select id="preavviso_4" name="preavviso_4">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Attività 5</legend>
        <label for="nome_5">Nome</label>
        <input id="nome_5" name="nome_5" placeholder="Nome">
        <label for="ora_5">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_5_ore" name="ora_5_ore">
            <option value="">--</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
          </select>
          <select id="ora_5_minuti" name="ora_5_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_5">Durata</label>
        <select id="durata_5" name="durata_5">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_5">Preavviso</label>
        <select id="preavviso_5" name="preavviso_5">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Attività 6</legend>
        <label for="nome_6">Nome</label>
        <input id="nome_6" name="nome_6" placeholder="Nome">
        <label for="ora_6">Ora</label>
        <div style="display: flex; gap: 5px;">
          <select id="ora_6_ore" name="ora_6_ore">
            <option value="">--</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
          </select>
          <select id="ora_6_minuti" name="ora_6_minuti">
            <option value="">--</option>
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
          </select>
        </div>
        <label for="durata_6">Durata</label>
        <select id="durata_6" name="durata_6">
          <option value="">Durata</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="30">30 min</option>
          <option value="40">40 min</option>
          <option value="50">50 min</option>
          <option value="60">1 ora</option>
          <option value="75">1h 15min</option>
          <option value="90">1h 30min</option>
          <option value="105">1h 45min</option>
          <option value="120">2h</option>
          <option value="150">2h 30min</option>
        </select>
        <label for="preavviso_6">Preavviso</label>
        <select id="preavviso_6" name="preavviso_6">
          <option value="">Preavviso</option>
          <option value="0">0 min</option>
          <option value="5">5 min</option>
          <option value="10">10 min</option>
          <option value="15">15 min</option>
          <option value="20">20 min</option>
          <option value="25">25 min</option>
          <option value="30">30 min</option>
          <option value="35">35 min</option>
          <option value="40">40 min</option>
          <option value="45">45 min</option>
          <option value="50">50 min</option>
          <option value="55">55 min</option>
          <option value="60">60 min</option>
        </select>
      </fieldset>
    </div>
  </form>
  <button onclick="handleSave()">Salva configurazione</button>
  <script src="js/script.js"></script>
  <script>
    const slotLimits = {
      "ora_1_ore": [6, 8],
      "ora_2_ore": [9, 11],
      "ora_3_ore": [12, 14],
      "ora_4_ore": [15, 17],
      "ora_5_ore": [18, 20],
      "ora_6_ore": [21, 23],
    };

    Object.entries(slotLimits).forEach(([id, [minHour, maxHour]]) => {
      const input = document.getElementById(id);
      if (input) {
        input.addEventListener("input", () => {
          const [h, m] = input.value.split(":").map(Number);
          if (h < minHour || h > maxHour) {
            alert(`L'orario per questo slot deve essere tra le ${minHour}:00 e le ${maxHour}:59`);
            input.value = "";
          }
        });
      }
    });
  </script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('Service Worker registrato'))
        .catch(error => console.error('SW registration failed:', error));
    }
  </script>
  <script type="module" src="js/firebase-init.js"></script>
</body>
</html>